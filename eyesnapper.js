// Generated by LiveScript 1.4.0
(function(){
  var showText, showControls, startSession, showWordListForm, out$ = typeof exports != 'undefined' && exports || this;
  out$.showText = showText = function(arg$){
    var text, location, font, ref$, possibleLocations, locationCss, x$, element;
    text = arg$.text, location = arg$.location, font = (ref$ = arg$.font) != null ? ref$ : "15%";
    possibleLocations = [
      [
        {
          top: "1em",
          left: "1em"
        }, {
          top: "50%",
          left: "1em",
          marginTop: "-0.5em"
        }, {
          bottom: "1em",
          left: "1em"
        }
      ], [
        {
          top: "1em",
          right: "1em"
        }, {
          top: "50%",
          right: "1em",
          marginTop: "-0.5em"
        }, {
          bottom: "1em",
          right: "1em"
        }
      ]
    ][location];
    locationCss = possibleLocations[Math.floor(Math.random() * possibleLocations.length)];
    x$ = element = $("<div>");
    x$.text(text);
    x$.addClass('eyesnapper-text-label');
    x$.css(import$(locationCss, {
      display: "block",
      position: "fixed",
      font: font
    }));
    return element.appendTo(document.body);
  };
  out$.showControls = showControls = function(bpm, setBpm, end){
    var refreshControls, x$, endButton, genButton, y$, container;
    refreshControls = function(button){
      $(".bpm-button").removeClass("active");
      if (button) {
        return $(button).addClass("active");
      }
    };
    x$ = endButton = $("<button>");
    x$.addClass("control-button");
    x$.text("End");
    x$.click(function(){
      return end();
    });
    genButton = function(b){
      var x$;
      x$ = $("<button>");
      x$.text(b + "");
      x$.addClass("control-button");
      x$.addClass("bpm-button");
      if (bpm === b) {
        x$.addClass("active");
      }
      x$.click(function(){
        setBpm(b);
        return refreshControls(this);
      });
      return x$;
    };
    y$ = container = $("<div>");
    y$.append(endButton);
    y$.append(genButton(10));
    y$.append(genButton(15));
    y$.append(genButton(20));
    y$.append(genButton(25));
    y$.append(genButton(30));
    y$.append(genButton(35));
    y$.append(genButton(40));
    y$.append(genButton(45));
    y$.append(genButton(50));
    y$.append(genButton(55));
    y$.append(genButton(60));
    y$.appendTo(document.body);
    y$.css({
      position: 'fixed',
      width: '100%',
      textAlign: 'center',
      bottom: 0,
      marginLeft: 'auto',
      marginRight: 'auto'
    });
    return container;
  };
  out$.startSession = startSession = function(arg$, cc){
    var wordList, bpm, length, ref$, running, intervalTimer, visibleText, end, endTimer, setBpm, controls, currentLocation, step;
    wordList = arg$.wordList, bpm = arg$.bpm, length = (ref$ = arg$.length) != null ? ref$ : 60;
    console.log("Running session with", wordList, "and", bpm);
    running = true;
    intervalTimer = null;
    visibleText = null;
    end = function(){
      running = false;
      clearTimeout(endTimer);
      return step();
    };
    endTimer = setTimeout(function(){
      return end();
    }, length * 1000);
    setBpm = function(newBpm){
      step();
      bpm = newBpm;
      if (typeof removeText == 'function') {
        removeText();
      }
      clearInterval(intervalTimer);
      return intervalTimer = setInterval(step, 60 * 1000 / newBpm);
    };
    controls = showControls(bpm, setBpm, end);
    currentLocation = 0;
    step = function(){
      var whichText;
      if (visibleText != null) {
        visibleText.remove();
      }
      if (running) {
        whichText = wordList[Math.floor(Math.random() * wordList.length)];
        visibleText = showText({
          text: whichText,
          location: currentLocation
        });
        return currentLocation = 1 - currentLocation;
      } else {
        controls.remove();
        clearInterval(intervalTimer);
        return cc(bpm);
      }
    };
    return setBpm(bpm);
  };
  out$.showWordListForm = showWordListForm = function(wordList, cc){
    var render, element, i$, len$, word, x$, y$;
    wordList == null && (wordList = []);
    render = function(it){
      return CoffeeKup.render(it, {
        autoescape: true,
        wordList: wordList
      });
    };
    element = $("<form>");
    $("<h2>").text("EyeSnapper").appendTo(element);
    while (wordList.length < 6) {
      wordList = wordList.concat([""]);
    }
    for (i$ = 0, len$ = wordList.length; i$ < len$; ++i$) {
      word = wordList[i$];
      x$ = $("<input>");
      x$.addClass('test');
      x$.attr({
        autofocus: true,
        type: 'text',
        'class': 'word-input',
        placeholder: "Enter a word...",
        value: word
      });
      x$.appendTo(element);
    }
    y$ = $("<button>");
    y$.addClass('begin');
    y$.text("Begin");
    y$.appendTo(element);
    y$.click(function(){
      var wordList, res$, i$, ref$, len$, text;
      res$ = [];
      for (i$ = 0, len$ = (ref$ = element.find(".word-input")).length; i$ < len$; ++i$) {
        text = ref$[i$];
        if (text.value) {
          res$.push(text.value);
        }
      }
      wordList = res$;
      if (wordList.length) {
        element.remove();
        cc(wordList);
      }
      return false;
    });
    return element.appendTo(document.body);
  };
  $(function(){
    var start;
    start = function(wordList, bpm){
      bpm == null && (bpm = 60);
      return showWordListForm(wordList, function(wordList){
        return startSession({
          wordList: wordList,
          bpm: bpm,
          length: 60
        }, function(bpm){
          return start(wordList, bpm);
        });
      });
    };
    return start();
  });
  function import$(obj, src){
    var own = {}.hasOwnProperty;
    for (var key in src) if (own.call(src, key)) obj[key] = src[key];
    return obj;
  }
}).call(this);

//# sourceMappingURL=data:application/json;base64,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QTs7O01BQ00sZ0ZBQUE7UUFBZ0I7WUFBeUMsSUFBSSxDQUFDO29CQUE3RCxJQUFJLENBQUM7OztNQUFsQixRQUFVLENBQUEsQ0FBQTtNQUNWLElBQUcsUUFBUyxDQUFDLE1BQWI7UUFDRSxPQUFPLENBQUMsT0FBTTtRQUNkLEdBQUcsUUFBQTs7YUFDTDtLQUxNO1dBT1YsT0FBTyxDQUFDLFNBQVMsUUFBUSxDQUFDLElBQVQ7O0VBRW5CLEVBQUUsUUFBQSxDQUFBOztJQUNBLEtBQU0sQ0FBQSxDQUFBLENBQUUsUUFBQSxDQUFBLFFBQUEsRUFBQSxHQUFBO01BQVksZ0JBQUEsTUFBSTthQUN0QixpQkFBb0IsVUFBVyxRQUFBLENBQUEsUUFBQTtlQUM3QixhQUNFO1VBQUEsVUFBVztVQUNYLEtBQUs7VUFDTCxRQUFRO1FBRlIsR0FHQSxRQUFBLENBQUEsR0FBQTtpQkFBUyxNQUFNLFVBQVcsR0FBWDtTQUhmO09BRmdCOztXQU10QixNQUFLO0dBUkwiLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgc2hvdy10ZXh0ID0gKHt0ZXh0LGxvY2F0aW9uLGZvbnQ9XCIxNSVcIn0pIC0+XG4gIHBvc3NpYmxlLWxvY2F0aW9ucyA9IFtcbiAgICBbIyBsZWZ0XG4gICAgICAgIHt0b3A6XCIxZW1cIixsZWZ0OlwiMWVtXCJ9LFxuICAgICAgICB7dG9wOlwiNTAlXCIsbGVmdDpcIjFlbVwiLCBtYXJnaW4tdG9wOiBcIi0wLjVlbVwifSxcbiAgICAgICAge2JvdHRvbTpcIjFlbVwiLGxlZnQ6XCIxZW1cIn0sXG4gICAgXSxcbiAgICBbIyByaWdodFxuICAgICAgICB7dG9wOlwiMWVtXCIscmlnaHQ6XCIxZW1cIn0sXG4gICAgICAgIHt0b3A6XCI1MCVcIixyaWdodDpcIjFlbVwiLG1hcmdpbi10b3A6XCItMC41ZW1cIn0sXG4gICAgICAgIHtib3R0b206XCIxZW1cIixyaWdodDpcIjFlbVwifSxcbiAgICBdXG4gIF1bbG9jYXRpb25dXG4gIGxvY2F0aW9uLWNzcyA9IHBvc3NpYmxlLWxvY2F0aW9uc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkqcG9zc2libGUtbG9jYXRpb25zLmxlbmd0aCldXG5cbiAgZWxlbWVudCA9ICQoXCI8ZGl2PlwiKVxuICAgIC4udGV4dCB0ZXh0XG4gICAgLi5hZGQtY2xhc3MgJ2V5ZXNuYXBwZXItdGV4dC1sYWJlbCdcbiAgICAuLmNzcyBsb2NhdGlvbi1jc3MgPDw8IGRvXG4gICAgICBkaXNwbGF5OiBcImJsb2NrXCJcbiAgICAgIHBvc2l0aW9uOiBcImZpeGVkXCJcbiAgICAgIGZvbnQ6IGZvbnRcblxuICBlbGVtZW50LmFwcGVuZC10byBkb2N1bWVudC5ib2R5XG5cbmV4cG9ydCBzaG93LWNvbnRyb2xzID0gKGJwbSwgc2V0LWJwbSwgZW5kKSAtPlxuICAjIFNob3cgdGhlIGNvbnRyb2wgYmFyLiBSZXR1cm5zIGEgSlF1ZXJ5IHNlbGVjdG9yIHRvIHRoZSBuZXdcbiAgIyBlbGVtZW50LlxuICAjIFBhcmFtZXRlcnM6XG4gICMgICBicG0sIGEgbnVtYmVyXG4gICMgICBzZXQtYnBtIDogKG5ldy1icG0pLT4sIHdoaWNoIGlzIGNhbGxlZCB3aGVuXG4gICMgICAgICAgICAgICAgdGhlIHVzZXIgY2hhbmdlcyBicG07XG4gICMgICBlbmQgOiAtPiwgY2FsbGVkIHdoZW4gdGhlIHVzZXIgY2xpY2tzIHRoZSBFeGl0IGJ1dHRvbi5cbiAgcmVmcmVzaC1jb250cm9scyA9IChidXR0b24pLT5cbiAgICAjIFRodW5rIHRvIHJlZnJlc2ggYnV0dG9ucycgXCJBY3RpdmVcIiBjb250cm9sc1xuICAgICQgXCIuYnBtLWJ1dHRvblwiIC5yZW1vdmUtY2xhc3MgXCJhY3RpdmVcIlxuICAgIGlmIGJ1dHRvblxuICAgICAgJCBidXR0b24gLmFkZC1jbGFzcyBcImFjdGl2ZVwiXG4gIGVuZC1idXR0b24gPSAkIFwiPGJ1dHRvbj5cIlxuICAgIC4uYWRkLWNsYXNzIFwiY29udHJvbC1idXR0b25cIlxuICAgIC4udGV4dCBcIkVuZFwiXG4gICAgLi5jbGljayAtPiBlbmQhXG4gIGdlbi1idXR0b24gPSAoYikgLT5cbiAgICAkIFwiPGJ1dHRvbj5cIlxuICAgICAgLi50ZXh0IFwiI3tifVwiXG4gICAgICAuLmFkZC1jbGFzcyBcImNvbnRyb2wtYnV0dG9uXCJcbiAgICAgIC4uYWRkLWNsYXNzIFwiYnBtLWJ1dHRvblwiXG4gICAgICAuLmFkZC1jbGFzcyBcImFjdGl2ZVwiIGlmIGJwbT09YlxuICAgICAgLi5jbGljayAtPiBzZXQtYnBtIGI7IHJlZnJlc2gtY29udHJvbHMgQFxuICBjb250YWluZXIgPSAkIFwiPGRpdj5cIlxuICAgIC4uYXBwZW5kIGVuZC1idXR0b25cbiAgICAuLmFwcGVuZCBnZW4tYnV0dG9uIDEwXG4gICAgLi5hcHBlbmQgZ2VuLWJ1dHRvbiAxNVxuICAgIC4uYXBwZW5kIGdlbi1idXR0b24gMjBcbiAgICAuLmFwcGVuZCBnZW4tYnV0dG9uIDI1XG4gICAgLi5hcHBlbmQgZ2VuLWJ1dHRvbiAzMFxuICAgIC4uYXBwZW5kIGdlbi1idXR0b24gMzVcbiAgICAuLmFwcGVuZCBnZW4tYnV0dG9uIDQwXG4gICAgLi5hcHBlbmQgZ2VuLWJ1dHRvbiA0NVxuICAgIC4uYXBwZW5kIGdlbi1idXR0b24gNTBcbiAgICAuLmFwcGVuZCBnZW4tYnV0dG9uIDU1XG4gICAgLi5hcHBlbmQgZ2VuLWJ1dHRvbiA2MFxuICAgIC4uYXBwZW5kLXRvIGRvY3VtZW50LmJvZHlcbiAgICAuLmNzcyBkb1xuICAgICAgcG9zaXRpb246IFxcZml4ZWRcbiAgICAgIHdpZHRoOiBcXDEwMCVcbiAgICAgIHRleHQtYWxpZ246IFxcY2VudGVyXG4gICAgICBib3R0b206IDBcbiAgICAgIG1hcmdpbi1sZWZ0OiBcXGF1dG9cbiAgICAgIG1hcmdpbi1yaWdodDogXFxhdXRvXG4gIGNvbnRhaW5lclxuXG5cbmV4cG9ydCBzdGFydC1zZXNzaW9uID0gKHt3b3JkLWxpc3QsIGJwbSwgbGVuZ3RoPTYwfSwgY2MpIC0+XG4gIGNvbnNvbGUubG9nIFwiUnVubmluZyBzZXNzaW9uIHdpdGhcIiwgd29yZC1saXN0LFwiYW5kXCIsYnBtXG4gICMgU3RhcnQgYSBzZXNzaW9uLCB0aGVuIHdoZW4gaXQgZmluaXNoZXMsIHJ1biBjY1xuICBydW5uaW5nID0gdHJ1ZVxuICBpbnRlcnZhbC10aW1lciA9IG51bGxcbiAgdmlzaWJsZS10ZXh0ID0gbnVsbFxuICAjIENhbGwgdGhpcyB0byBlbmQgZXZlcnl0aGluZyBub3dcbiAgZW5kID0gLT5cbiAgICBydW5uaW5nIDo9IGZhbHNlXG4gICAgY2xlYXItdGltZW91dCBlbmQtdGltZXJcbiAgICBzdGVwIVxuICBlbmQtdGltZXIgPSBzZXQtdGltZW91dCAoLT4gZW5kISksIGxlbmd0aCoxMDAwXG4gICMgQ2FsbCB0aGlzIHRvIGNoYW5nZSB0aGUgQlBNIG5vdywgb3IgdG8gc3RhcnQgc2NoZWR1bGluZy5cbiAgc2V0LWJwbSA9IChuZXctYnBtKS0+XG4gICAgc3RlcCEgIyB0byB1cGRhdGUgZGlzcGxheSByaWdodCBhd2F5XG4gICAgYnBtIDo9IG5ldy1icG0gIyB3ZSBtdXN0IHJlbWVtYmVyIHRoaXMgZm9yIHRoZSBuZXh0IGNsaWVudFxuICAgIHJlbW92ZS10ZXh0PyFcbiAgICBjbGVhci1pbnRlcnZhbCBpbnRlcnZhbC10aW1lclxuICAgIGludGVydmFsLXRpbWVyIDo9IHNldC1pbnRlcnZhbCBzdGVwLCA2MCoxMDAwL25ldy1icG1cbiAgY29udHJvbHMgPSBzaG93LWNvbnRyb2xzIGJwbSwgc2V0LWJwbSwgZW5kXG4gICMgVG9nZ2xlcyBiZXR3ZWVuIDAgYW5kIDEgZm9yIGxlZnQgYW5kIHJpZ2h0XG4gIGN1cnJlbnQtbG9jYXRpb24gPSAwXG4gICMgUnVuIGVhY2ggc3RlcFxuICBzdGVwID0gLT5cbiAgICB2aXNpYmxlLXRleHQ/LnJlbW92ZSFcbiAgICBpZiBydW5uaW5nXG4gICAgICB3aGljaC10ZXh0ID0gd29yZC1saXN0W01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSp3b3JkLWxpc3QubGVuZ3RoKV1cbiAgICAgIHZpc2libGUtdGV4dCA6PSBzaG93LXRleHQgdGV4dDogd2hpY2gtdGV4dCwgbG9jYXRpb246IGN1cnJlbnQtbG9jYXRpb25cbiAgICAgIGN1cnJlbnQtbG9jYXRpb24gOj0gMSAtIGN1cnJlbnQtbG9jYXRpb25cbiAgICBlbHNlXG4gICAgICBjb250cm9scy5yZW1vdmUhXG4gICAgICBjbGVhci1pbnRlcnZhbCBpbnRlcnZhbC10aW1lclxuICAgICAgY2MgYnBtICMgd2UncmUgZG9uZSBub3dcbiAgc2V0LWJwbSBicG1cblxuZXhwb3J0IHNob3ctd29yZC1saXN0LWZvcm0gPSAod29yZC1saXN0PVtdLCBjYykgLT5cbiAgIyBTaG93IGEgd29yZCBsaXN0IGZvcm0sIHBvcHVsYXRlZCB3aXRoIGRlZmF1bHQgd29yZCBsaXN0cy5cbiAgIyBDYWxscyBjYyh3b3JkLWxpc3QpXG4gIHJlbmRlciA9IChpdCktPkNvZmZlZUt1cC5yZW5kZXIgaXQsIHthdXRvZXNjYXBlOiB0cnVlLHdvcmQtbGlzdH1cbiAgZWxlbWVudCA9ICQgXCI8Zm9ybT5cIlxuICAkIFwiPGgyPlwiIC50ZXh0IFwiRXllU25hcHBlclwiIC5hcHBlbmQtdG8gZWxlbWVudFxuICB3aGlsZSB3b3JkLWxpc3QubGVuZ3RoIDwgNlxuICAgIHdvcmQtbGlzdCA9IHdvcmQtbGlzdCArKyBbXCJcIl1cbiAgZm9yIHdvcmQgaW4gd29yZC1saXN0XG4gICAgJCBcIjxpbnB1dD5cIlxuICAgICAgLi5hZGQtY2xhc3MgXFx0ZXN0XG4gICAgICAuLmF0dHIge1xuICAgICAgICAgICAgIGF1dG9mb2N1czogdHJ1ZVxuICAgICAgICAgICAgIHR5cGU6XFx0ZXh0XG4gICAgICAgICAgICAgY2xhc3M6XFx3b3JkLWlucHV0XG4gICAgICAgICAgICAgcGxhY2Vob2xkZXI6XCJFbnRlciBhIHdvcmQuLi5cIlxuICAgICAgICAgICAgIHZhbHVlOiB3b3JkXG4gICAgICAgICAgICAgfVxuICAgICAgLi5hcHBlbmQtdG8gZWxlbWVudFxuICAkIFwiPGJ1dHRvbj5cIlxuICAgICMuLmF0dHIgdHlwZTogXCJzdWJtaXRcIlxuICAgIC4uYWRkLWNsYXNzIFxcYmVnaW5cbiAgICAuLnRleHQgXCJCZWdpblwiXG4gICAgLi5hcHBlbmQtdG8gZWxlbWVudFxuICAgIC4uY2xpY2sgLT5cbiAgICAgIHdvcmQtbGlzdCA9IFt0ZXh0LnZhbHVlIGZvciB0ZXh0IGluIGVsZW1lbnQuZmluZChcIi53b3JkLWlucHV0XCIpIHdoZW4gdGV4dC52YWx1ZV1cbiAgICAgIGlmIHdvcmQtbGlzdC5sZW5ndGhcbiAgICAgICAgZWxlbWVudC5yZW1vdmUhXG4gICAgICAgIGNjIHdvcmQtbGlzdFxuICAgICAgZmFsc2VcblxuICBlbGVtZW50LmFwcGVuZFRvIGRvY3VtZW50LmJvZHlcblxuJCAtPlxuICBzdGFydCA9ICh3b3JkLWxpc3QsIGJwbT02MCkgLT5cbiAgICBzaG93LXdvcmQtbGlzdC1mb3JtIHdvcmQtbGlzdCwgKHdvcmQtbGlzdCktPlxuICAgICAgc3RhcnQtc2Vzc2lvbiBkb1xuICAgICAgICB3b3JkLWxpc3Q6IHdvcmQtbGlzdFxuICAgICAgICBicG06IGJwbVxuICAgICAgICBsZW5ndGg6IDYwXG4gICAgICAgIChicG0pIC0+IHN0YXJ0IHdvcmQtbGlzdCwgYnBtXG4gIHN0YXJ0IVxuIl19
